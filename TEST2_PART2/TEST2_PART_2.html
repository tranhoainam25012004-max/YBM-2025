<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TOEIC Practice - Individual Vocab Controls</title>
    <style>
        :root {
            --primary: #004085; --success: #28a745; --danger: #dc3545;
            --warning: #ffc107; --pink-bg: #fce4e4;
        }

        body {
            font-family: -apple-system, system-ui, sans-serif; background: #f0f2f5;
            margin: 0; padding: 10px; display: flex; flex-direction: column; align-items: center;
        }

        .container { width: 100%; max-width: 500px; }

        .section-header {
            font-size: 1rem; color: var(--primary); font-weight: bold;
            border-left: 4px solid var(--primary); padding-left: 8px; margin: 15px 0 10px;
        }

        /* Th·∫ª Card cho ph·∫ßn nghe */
        .compact-card {
            background: white; border-radius: 10px; padding: 12px;
            margin-bottom: 8px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); border: 1px solid #eee;
        }

        .line-content { font-size: 0.95rem; line-height: 1.8; margin-bottom: 4px; }
        .line-trans { 
            font-size: 0.85rem; color: #666; font-style: italic; 
            border-top: 1px dashed #eee; padding-top: 4px; display: none;
        }

        /* Input co d√£n */
        .input-box { display: inline-flex; flex-direction: column; vertical-align: middle; margin: 0 2px; }
        .fill-in {
            border: 1px solid #ccc; border-radius: 5px; padding: 2px 5px;
            background: var(--pink-bg); font-weight: bold; font-size: 0.95rem;
            text-align: center; outline: none; min-width: 35px; width: 4ch; transition: all 0.2s;
        }

        .ans-label { color: var(--success); font-weight: bold; font-size: 0.85rem; display: none; text-align: center; margin-top: 2px; }
        .show-ans .ans-label { display: block; }

        /* Buttons chung */
        .btn-group { display: flex; gap: 8px; margin: 10px 0 20px; }
        .btn { 
            border: none; border-radius: 6px; padding: 8px; color: white; 
            font-weight: bold; cursor: pointer; flex: 1; font-size: 0.8rem;
        }
        .btn-ans { background: var(--success); }
        .btn-check { background: var(--danger); }
        .btn-dich { background: var(--warning); color: #333; }

        /* N√∫t nh·ªè cho t·ª´ng t·ª´ v·ª±ng */
        .small-btn-group { display: flex; gap: 5px; margin-top: 10px; justify-content: flex-end; }
        .btn-sm { padding: 5px 10px; font-size: 0.75rem; flex: none; width: auto; }

        .correct { border: 2px solid var(--success) !important; background: #e6ffed !important; color: var(--success); }
        .incorrect { border: 2px solid var(--danger) !important; background: #fff5f5 !important; color: var(--danger); }

        /* Vocab Card */
        .vocab-item { background: white; border-radius: 10px; padding: 12px; margin-bottom: 12px; border: 1px solid #ddd; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
        .word-title { font-size: 1.05rem; color: var(--primary); margin-bottom: 8px; display: flex; align-items: center; justify-content: space-between; }
        .word-type { font-size: 0.85rem; color: #666; font-style: italic; font-weight: normal; }
        
        .meaning-row { margin-bottom: 8px; }
        .synonym-line { margin-top: 5px; padding-left: 15px; font-size: 0.9rem; color: #555; display: flex; align-items: center; flex-wrap: wrap; }
        .audio-icon { cursor: pointer; font-size: 1.1rem; margin-left: 5px; }
        .audio-player {
        background: #eee;
        padding: 15px;
        border-radius: 12px;
        display: flex;
        align-items: center;
        gap: 10px;
        margin-bottom: 20px;
    }
    .audio-controls {
        display: flex;
        align-items: center;
        gap: 8px;
    }
    .play-btn, .rewind-btn {
        background: #007bff;
        color: white;
        border: none;
        border-radius: 50%;
        width: 35px;
        height: 35px;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    .speed-badge {
        background: white;
        border: 1px solid #ccc;
        padding: 2px 8px;
        border-radius: 15px;
        font-size: 0.8rem;
        font-weight: bold;
    }
    /* Thanh ti·∫øn ƒë·ªô */
    .progress-container {
        flex-grow: 1;
        display: flex;
        flex-direction: column;
        gap: 5px;
    }
    .seek-slider {
        width: 100%;
        cursor: pointer;
        height: 5px;
        border-radius: 5px;
        accent-color: var(--primary); /* M√†u thanh tr∆∞·ª£t */
    }
    .time-row {
        display: flex;
        justify-content: space-between;
        font-size: 0.75rem;
        color: #666;
        font-family: monospace;
    }
    </style>
</head>
<body>
<div class="main-container">
<h1>Luy·ªán TOEIC Part 2</h1>
<div id="toeic-app" class="container"></div>

<script>
    const data = [
        // D√°n ƒëo·∫°n n√†y ti·∫øp n·ªëi v√†o m·∫£ng data c·ªßa b·∫°n
{
    id: 7,
    audioUrl: "Test 02_Part 2_07.mp3",
    listening: [
        { q: "7. {Why is} the {doctor running late}?", t: "T·∫°i sao b√°c sƒ© ƒë·∫øn tr·ªÖ?" },
        { q: "(A) Ok, {but I don‚Äôt} feel {sick}.", t: "Ok, nh∆∞ng t√¥i kh√¥ng c·∫£m th·∫•y kh√¥ng kh·ªèe." },
        { q: "(B) She had {a car trouble}.", t: "C√¥ ·∫•y ƒë√£ g·∫∑p s·ª± c·ªë v·ªÅ xe." },
        { q: "(C) No, {that‚Äôs not} too {early}.", t: "Kh√¥ng, n√≥ kh√¥ng qu√° s·ªõm ƒë√¢u." }
    ],
    vocabulary: []
},
{
    id: 8,
    audioUrl: "Test 02_Part 2_08.mp3",
    listening: [
        { q: "8. {Where can I} find {art supplies}?", t: "T√¥i c√≥ th·ªÉ t√¨m th·∫•y d·ª•ng c·ª• v·∫Ω ·ªü ƒë√¢u?" },
        { q: "(A) {Three types} of {paint}.", t: "Ba lo·∫°i s∆°n." },
        { q: "(B) {In aisle} seven.", t: "·ªû k·ªá s·ªë 7." },
        { q: "(C) {To pass} the {time}.", t: "ƒê·ªÉ gi·∫øt th·ªùi gian." }
    ],
    vocabulary: [
        { 
            w: "Supplies", ty: "n", 
            meanings: [
                { m: "nh·ªØng d·ª•ng c·ª•", s: "tools" },
                { m: "v·∫≠t t∆∞", s: "materials" }
            ]
        },
        { 
            w: "Paint", ty: "v", 
            meanings: [
                { m: "v·∫Ω", s: "draw" }
            ]
        },
        { 
            w: "Paint", ty: "n", 
            meanings: [
                { m: "s∆°n", s: "dye" }
            ]
        },
        { 
            w: "Aisle", ty: "n", 
            meanings: [
                { m: "d√£y k·ªá", s: "" },
                { m: "l·ªëi ƒëi gi·ªØa hai h√†ng gh·∫ø", s: "pathway" }
            ]
        }
    ]
},
        {
            id: 9,
            audioUrl: "Test 02_Part 2_09.mp3",
            listening: [
                { q: "9. {Who waters} the {plants} in {the lobby}?", t: "Ai t∆∞·ªõi c√¢y trong s·∫£nh?" },
                { q: "(A) {We can} take {the elevator}.", t: "Ch√∫ng ta c√≥ th·ªÉ ƒëi thang m√°y." },
                { q: "(B) {Gerald} does.", t: "Gerald l√†m." },
                { q: "(C) {I'm not thirsty} right now.", t: "B√¢y gi·ªù t√¥i kh√¥ng kh√°t n∆∞·ªõc." }
            ],
            vocabulary: [
                { w: "Elevator", ty: "n", meanings: [{ m: "thang m√°y", s: "lift" }] },
                { w: "Escalator", ty: "n", meanings: [{ m: "thang cu·ªën"}] },
                { w: "Stairs", ty: "n", meanings: [{ m: "thang b·ªô", s: "steps" }] }
            ]
        },
  {
    "id": 10,
    "audioUrl": "Test 02_Part 2_10.mp3",
    "listening": [
      { "q": "10. {Do you have} a {phone} I could {use}?", "t": "B·∫°n c√≥ ƒëi·ªán tho·∫°i m√† t√¥i c√≥ th·ªÉ d√πng ƒë∆∞·ª£c kh√¥ng?" },
      { "q": "(A) {Who} was it?", "t": "Ai v·∫≠y?" },
      { "q": "(B) Try this {coupon}.", "t": "Th·ª≠ d√πng phi·∫øu gi·∫£m gi√° n√†y." },
      { "q": "(C) I'm {expecting a call}.", "t": "T√¥i ƒëang ch·ªù m·ªôt cu·ªôc g·ªçi." }
    ],
    "vocabulary": [
      { "w": "Coupon", "ty": "n", "meanings": [{ "m": "phi·∫øu gi·∫£m gi√°" }] }
    ]
  },
  {
    "id": 11,
    "audioUrl": "Test 02_Part 2_11.mp3",
    "listening": [
      { "q": "11. {How} can we {welcome} our {summer interns}?", "t": "Ch√∫ng ta c√≥ th·ªÉ ch√†o ƒë√≥n nh·ªØng h·ªçc sinh m√πa h√® nh∆∞ th·∫ø n√†o?" },
      { "q": "(A) We have {air conditioning}.", "t": "Ch√∫ng ta c√≥ m√°y l·∫°nh." },
      { "q": "(B) {She's graduating} in spring.", "t": "C√¥ ·∫•y s·∫Ω t·ªët nghi·ªáp v√†o m√πa xu√¢n." },
      { "q": "(C) The {team} could {go out to lunch} together.", "t": "C·∫£ nh√≥m c√≥ th·ªÉ ra ngo√†i ƒÉn tr∆∞a c√πng nhau." }
    ],
    "vocabulary": [
      { "w": "Intern", "ty": "n", "meanings": [{ "m": "th·ª±c t·∫≠p sinh", "s": "trainee" }] },
      { "w": "Graduate", "ty": "v", "meanings": [{ "m": "t·ªët nghi·ªáp" }] }
    ]
  },
  {
    "id": 12,
    "audioUrl": "Test 02_Part 2_12.mp3",
    "listening": [
      { "q": "12. {When} will the {product testing} start?", "t": "Khi n√†o bu·ªïi th·ª≠ nghi·ªám s·∫£n ph·∫©m b·∫Øt ƒë·∫ßu?" },
      { "q": "(A) My {coworker} Flora {would know}.", "t": "ƒê·ªìng nghi·ªáp c·ªßa t√¥i Flora s·∫Ω bi·∫øt." },
      { "q": "(B) The {third page} of our {report}.", "t": "Trang ba c·ªßa b·∫£n b√°o c√°o." },
      { "q": "(C) From a {special laboratory}.", "t": "T·ª´ m·ªôt ph√≤ng th√≠ nghi·ªám ƒë·∫∑c bi·ªát." }
    ],
    "vocabulary": []
  },
  {
    "id": 13,
    "audioUrl": "Test 02_Part 2_13.mp3",
    "listening": [
      { "q": "13. Do you know {the deadline} for {that project}?", "t": "B·∫°n c√≥ bi·∫øt h·∫°n ch√≥t cho d·ª± √°n ƒë√≥ l√† khi n√†o kh√¥ng?" },
      { "q": "(A) I {met} him {at a workshop}.", "t": "T√¥i ƒë√£ g·∫∑p anh ·∫•y t·∫°i m·ªôt bu·ªïi h·ªôi th·∫£o." },
      { "q": "(B) A new {projector}.", "t": "M·ªôt c√°i m√°y chi·∫øu m·ªõi." },
      { "q": "(C) It's {not urgent}.", "t": "N√≥ kh√¥ng g·∫•p." }
    ],
    "vocabulary": [
      { "w": "Workshop", "ty": "n", "meanings": [{ "m": "h·ªôi th·∫£o", "s": "seminar" }] },
      { "w": "Projector", "ty": "n", "meanings": [{ "m": "m√°y chi·∫øu" }] },
      { "w": "Urgent", "ty": "adj", "meanings": [{ "m": "g·∫•p/ kh·∫©n c·∫•p" }] }
    ]
  },
  {
    "id": 14,
    "audioUrl": "Test 02_Part 2_14.mp3",
    "listening": [
      { "q": "14. {What did you think} of the {job candidate}?", "t": "B·∫°n nghƒ© g√¨ v·ªÅ ·ª©ng c·ª≠ vi√™n?" },
      { "q": "(A) At a {recent job fair}.", "t": "T·∫°i m·ªôt h·ªôi ch·ª£ ngh·ªÅ nghi·ªáp g·∫ßn ƒë√¢y." },
      { "q": "(B) It {tastes delicious}.", "t": "N√≥ c√≥ v·ªã ngon." },
      { "q": "(C) I thought {he was impressive}.", "t": "T√¥i nghƒ© anh ·∫•y th·∫≠t l√† ·∫•n t∆∞·ª£ng." }
    ],
    "vocabulary": []
  },
  {
    "id": 15,
    "audioUrl": "Test 02_Part 2_15.mp3",
    "listening": [
      { "q": "15. {Did you find a buyer} for the {Maple Street house}?", "t": "B·∫°n ƒë√£ t√¨m ra ng∆∞·ªùi mua cho cƒÉn nh√† tr√™n ph·ªë Maple ch∆∞a?" },
      { "q": "(A) No, it's {still on the market}.", "t": "Kh√¥ng, n√≥ v·∫´n ƒëang ƒë∆∞·ª£c rao b√°n." },
      { "q": "(B) Yes, {a sign} in the {front yard}.", "t": "ƒê√∫ng, m·ªôt c√°i bi·ªÉn b√°o ·ªü s√¢n tr∆∞·ªõc." },
      { "q": "(C) {Twelve hundred square} feet.", "t": "1200 feet vu√¥ng." }
    ],
    "vocabulary": []
  },
  {
    "id": 16,
    "audioUrl": "Test 02_Part 2_16.mp3",
    "listening": [
      { "q": "16. {What} do {we have to wear} for the {company photo shoot}?", "t": "Ch√∫ng ta ph·∫£i m·∫∑c g√¨ cho bu·ªïi ch·ª•p h√¨nh c√¥ng ty?" },
      { "q": "(A) I'm {aware of them}.", "t": "T√¥i bi·∫øt ch√∫ng." },
      { "q": "(B) Didn't you {read the memo}?", "t": "B·∫°n kh√¥ng ƒë·ªçc th√¥ng b√°o h·ªü?" },
      { "q": "(C) Yes, he's {popular on social media}.", "t": "ƒê√∫ng r·ªìi, anh ·∫•y n·ªïi ti·∫øng tr√™n m·∫°ng x√£ h·ªôi." }
    ],
    "vocabulary": [
      { "w": "Aware", "ty": "adj", "meanings": [{ "m": "bi·∫øt/ quan t√¢m" }] },
      { "w": "Memo", "ty": "n", "meanings": [{ "m": "th√¥ng b√°o", "s": "notice" }] }
    ]
  },
  {
    "id": 17,
    "audioUrl": "Test 02_Part 2_17.mp3",
    "listening": [
      { "q": "17. {That gallery's} been {closed for months}.", "t": "Ph√≤ng tr∆∞ng b√†y ƒë√≥ ƒë√£ ƒë∆∞·ª£c ƒë√≥ng c·ª≠a v√†i th√°ng r·ªìi." },
      { "q": "(A) I hope the {renovations end soon}.", "t": "T√¥i hy v·ªçng vi·ªác tu s·ª≠a n√†y s·∫Ω k·∫øt th√∫c s·ªõm." },
      { "q": "(B) Yes, the {drawer is open}.", "t": "ƒê√∫ng r·ªìi, c√°i ngƒÉn k√©o ƒëang m·ªü." },
      { "q": "(C) We'll {probably visit one}.", "t": "Ch√∫ng ta c√≥ th·ªÉ ƒë·∫øn thƒÉm m·ªôt ph√≤ng tranh." }
    ],
    "vocabulary": [
      { "w": "Renovation", "ty": "n", "meanings": [{ "m": "s·ª± tu s·ª≠a/ n√¢ng c·∫•p" }] },
      { "w": "Renovate", "ty": "v", "meanings": [{ "m": "tu s·ª≠a/ n√¢ng c·∫•p", "s": "upgrade/ improve/ remodel" }] },
      { "w": "Drawer", "ty": "n", "meanings": [{ "m": "ngƒÉn k√©o" }] }
    ]
  },{
    "id": 18,
    "audioUrl": "Test 02_Part 2_18.mp3",
    "listening": [
      { "q": "18. {Could you design} the {event invitations}?", "t": "B·∫°n c√≥ th·ªÉ thi·∫øt k·∫ø thi·ªáp m·ªùi cho b·ªØa ti·ªác kh√¥ng?" },
      { "q": "(A) A {soft color scheme}.", "t": "M·ªôt b·∫£ng m√†u nh·∫π nh√†ng." },
      { "q": "(B) They're {excited to attend}.", "t": "H·ªç h√†o h·ª©ng tham gia." },
      { "q": "(C) My vacation {starts tomorrow}.", "t": "K·ª≥ ngh·ªâ c·ªßa t√¥i b·∫Øt ƒë·∫ßu v√†o ng√†y mai." }
    ],
    "vocabulary": [
      { "w": "Color scheme", "ty": "n", "meanings": [{ "m": "b·∫£ng m√†u" }] },
      { "w": "Soft", "ty": "adj", "meanings": [{ "m": "nh·∫π nh√†ng" }] }
    ]
  },
  {
    "id": 19,
    "audioUrl": "Test 02_Part 2_19.mp3",
    "listening": [
      { "q": "19. {This author's} last {book was nominated} for a {Voss Award, right}?", "t": "Quy·ªÉn s√°ch m·ªõi nh·∫•t c·ªßa t√°c gi·∫£ n√†y ƒë√£ ƒë∆∞·ª£c ƒë·ªÅ c·ª≠ cho gi·∫£i th∆∞·ªüng Voss ƒë√∫ng kh√¥ng?" },
      { "q": "(A) No, for {some other award}.", "t": "Kh√¥ng, d√†nh cho m·ªôt gi·∫£i th∆∞·ªüng kh√°c." },
      { "q": "(B) The {top shelf}.", "t": "Tr√™n n√≥c k·ªá." },
      { "q": "(C) A few {films}.", "t": "M·ªôt v√†i b·ªô phim m·ªõi." }
    ],
    "vocabulary": []
  },
  {
    "id": 20,
    "audioUrl": "Test 02_Part 2_20.mp3",
    "listening": [
      { "q": "20. {When} will {the roadwork end}?", "t": "Khi n√†o c√¥ng tr√¨nh l√†m ƒë∆∞·ªùng ch·∫•m d·ª©t?" },
      { "q": "(A) Oh, did he?", "t": "√î, anh ·∫•y √†?" },
      { "q": "(B) More than {60 workers}.", "t": "H∆°n 60 c√¥ng nh√¢n." },
      { "q": "(C) They're {making good progress}.", "t": "H·ªç ƒëang ti·∫øn tri·ªÉn r·∫•t t·ªët." }
    ],
    "vocabulary": [
      { "w": "Progress", "ty": "v", "meanings": [{ "m": "ti·∫øn tri·ªÉn" }] },
      { "w": "Progress", "ty": "n", "meanings": [{ "m": "ti·∫øn ƒë·ªô/ s·ª± ti·∫øn b·ªô" }] }
    ]
  },
  {
    "id": 21,
    "audioUrl": "Test 02_Part 2_21.mp3",
    "listening": [
      { "q": "21. {Would you like} that {shirt} in a {larger size}?", "t": "B·∫°n mu·ªën c√°i √°o s∆° mi ƒë√≥ ·ªü c·ª° l·ªõn h∆°n kh√¥ng?" },
      { "q": "(A) Thanks, it is a {bit tight}.", "t": "C·∫£m ∆°n, n√≥ th√¨ ch·∫≠t m·ªôt ch√∫t." },
      { "q": "(B) That's {good to know}.", "t": "Th·∫≠t t·ªët ƒë·ªÉ bi·∫øt ƒëi·ªÅu ƒë√≥." },
      { "q": "(C) I'll {print out the sales data}.", "t": "T√¥i s·∫Ω in ra d·ªØ li·ªáu b√°n h√†ng." }
    ],
    "vocabulary": [
      { "w": "Tight", "ty": "adj", "meanings": [{ "m": "ch·∫≠t" }] },
      { "w": "Loose", "ty": "adj", "meanings": [{ "m": "l·ªèng l·∫ªo" }] }
    ]
  },
  {
    "id": 22,
    "audioUrl": "Test 02_Part 2_22.mp3",
    "listening": [
      { "q": "22. There are a lot of {empty seats} in the {theater today, aren't there}?", "t": "C√≥ nhi·ªÅu gh·∫ø tr·ªëng trong r·∫°p n√†y h√¥m nay ph·∫£i kh√¥ng?" },
      { "q": "(A) Just some {soft drinks}.", "t": "M·ªôt √≠t n∆∞·ªõc gi·∫£i kh√°t." },
      { "q": "(B) {Weekdays} are {always quiet}.", "t": "Nh·ªØng ng√†y trong tu·∫ßn lu√¥n lu√¥n √≠t kh√°ch." },
      { "q": "(C) Here's my ticket.", "t": "ƒê√¢y l√† v√© c·ªßa t√¥i." }
    ],
    "vocabulary": []
  },
  {
    "id": 23,
    "audioUrl": "Test 02_Part 2_23.mp3",
    "listening": [
      { "q": "23. {When} can I {visit the factory} to {see the production samples}?", "t": "T√¥i c√≥ th·ªÉ ƒë·∫øn nh√† m√°y khi n√†o ƒë·ªÉ xem nh·ªØng m·∫´u s·∫£n xu·∫•t v·∫≠y?" },
      { "q": "(A) {Make sure} you {purchase apples at the store}.", "t": "ƒê·∫£m b·∫£o l√† b·∫°n mua t√°o t·∫°i c·ª≠a h√†ng." },
      { "q": "(B) {Come by} anytime {next week}.", "t": "ƒê·∫øn b·∫•t k·ª≥ l√∫c n√†o v√†o tu·∫ßn sau." },
      { "q": "(C) No, that's not the {only factor}.", "t": "Kh√¥ng ƒë√≥ kh√¥ng ph·∫£i l√† y·∫øu t·ªë duy nh·∫•t." }
    ],
    "vocabulary": [
      { "w": "Come by", "ty": "v", "meanings": [{ "m": "gh√© qua/ ƒë·∫øn", "s": "stop by" }] },
      { "w": "Factor", "ty": "n", "meanings": [{ "m": "y·∫øu t·ªë/ nh√¢n t·ªë", "s": "element" }] }
    ]
  },
  {
    "id": 24,
    "audioUrl": "Test 02_Part 2_24.mp3",
    "listening": [
      { "q": "24. {Didn't} Ms. Oba {tell us to call her when} the {printer was repaired}?", "t": "C√¥ Oba kh√¥ng ph·∫£i n√≥i v·ªõi ch√∫ng ta g·ªçi c√¥ ·∫•y khi m√°y in ƒë√£ ƒë∆∞·ª£c s·ª≠a sao?" },
      { "q": "(A) Yes-we'd {better call her now}.", "t": "ƒê√∫ng r·ªìi ch√∫ng ta n√™n g·ªçi c√¥ ·∫•y ngay b√¢y gi·ªù." },
      { "q": "(B) We {sell office equipment}.", "t": "Ch√∫ng t√¥i b√°n thi·∫øt b·ªã vƒÉn ph√≤ng." },
      { "q": "(C) No, that {belongs to the technician}.", "t": "Kh√¥ng n√≥ thu·ªôc v·ªÅ k·ªπ thu·∫≠t vi√™n." }
    ],
    "vocabulary": [
      { "w": "Belong to", "ty": "-", "meanings": [{ "m": "thu·ªôc v·ªÅ" }] },
      { "w": "Technician", "ty": "n", "meanings": [{ "m": "k·ªπ thu·∫≠t vi√™n" }] },
      { "w": "Technique", "ty": "n", "meanings": [{ "m": "k·ªπ thu·∫≠t" }] },
      { "w": "Technical", "ty": "adj", "meanings": [{ "m": "k·ªπ thu·∫≠t" }] }
    ]
  },{
    "id": 25,
    "audioUrl": "Test 02_Part 2_25.mp3",
    "listening": [
      { "q": "25. Will the {keynote speaker arrive today}, or is she {flying in tomorrow}?", "t": "Di·ªÖn gi·∫£ ch√≠nh ƒë·∫øn ng√†y h√¥m nay hay c√¥ ·∫•y s·∫Ω bay ƒë·∫øn v√†o ng√†y mai?" },
      { "q": "(A) They're {first-time attendees}.", "t": "H·ªç l√† nh·ªØng ng∆∞·ªùi tham d·ª± l·∫ßn ƒë·∫ßu." },
      { "q": "(B) Possible {speech topics}.", "t": "Nh·ªØng ch·ªß ƒë·ªÅ c√≥ th·ªÉ di·ªÖn thuy·∫øt." },
      { "q": "(C) She'll get here {this evening}.", "t": "C√¥ ·∫•y s·∫Ω ƒë·∫øn ƒë√¢y v√†o t·ªëi nay." }
    ],
    "vocabulary": [
      { "w": "Keynote speaker", "ty": "n", "meanings": [{ "m": "di·ªÖn gi·∫£ ch√≠nh" }] },
      { "w": "Attendee", "ty": "n", "meanings": [{ "m": "ng∆∞·ªùi tham gia", "s": "participant" }] },
      { "w": "Attendant", "ty": "n", "meanings": [{ "m": "ng∆∞·ªùi ph·ª•c v·ª•" }] },
      { "w": "Server", "ty": "n", "meanings": [{ "m": "ph·ª•c v·ª• b√†n", "s": "waiter/ waitress" }] }
    ]
  },
  {
    "id": 26,
    "audioUrl": "Test 02_Part 2_26.mp3",
    "listening": [
      { "q": "26. {What kinds of articles} do you {write for the magazine}?", "t": "B·∫°n vi·∫øt lo·∫°i b√†i b√°o n√†o cho t·∫°p ch√≠ v·∫≠y?" },
      { "q": "(A) {Through} a {news magazine}.", "t": "Qua m·ªôt t·∫°p ch√≠ v·ªÅ tin t·ª©c." },
      { "q": "(B) I {mostly do editing}.", "t": "T√¥i ch·ªâ bi√™n t·∫≠p." },
      { "q": "(C) Thanks, we're {proud of it}.", "t": "C·∫£m ∆°n, ch√∫ng t√¥i t·ª± h√†o v·ªÅ n√≥." }
    ],
    "vocabulary": [
      { "w": "Article", "ty": "n", "meanings": [{ "m": "b√†i b√°o/ m√≥n ƒë·ªì" }] }
    ]
  },
  {
    "id": 27,
    "audioUrl": "Test 02_Part 2_27.mp3",
    "listening": [
      { "q": "27. {How} did you like {Monday's class}?", "t": "B·∫°n th√≠ch l·ªõp h·ªçc th·ª© hai ra sao?" },
      { "q": "(A) I was {traveling for work}.", "t": "T√¥i ƒëi c√¥ng t√°c r·ªìi." },
      { "q": "(B) Yes, definitely.", "t": "ƒê√∫ng, ch·∫Øc ch·∫Øn r·ªìi." },
      { "q": "(C) A different {instructor}.", "t": "M·ªôt ng∆∞·ªùi h∆∞·ªõng d·∫´n kh√°c." }
    ],
    "vocabulary": [
      { "w": "Definitely", "ty": "adv", "meanings": [{ "m": "ch·∫Øc ch·∫Øn", "s": "absolutely/ certainly" }] }
    ]
  },
  {
    "id": 28,
    "audioUrl": "Test 02_Part 2_28.mp3",
    "listening": [
      { "q": "28. Do you want to have dinner at the restaurant {in our hotel}?", "t": "B·∫°n c√≥ mu·ªën ƒÉn t·ªëi t·∫°i nh√† h√†ng trong kh√°ch s·∫°n c·ªßa ch√∫ng t√¥i kh√¥ng?" },
      { "q": "(A) No, eight P.M. at the latest.", "t": "Kh√¥ng, tr·ªÖ nh·∫•t l√† 8 gi·ªù t·ªëi." },
      { "q": "(B) Some {members of the tour group}.", "t": "M·ªôt v√†i th√†nh vi√™n c·ªßa ƒëo√†n tham quan." },
      { "q": "(C) {Does} it have {vegetarian options}?", "t": "N√≥ c√≥ l·ª±a ch·ªçn ƒÉn chay kh√¥ng?" }
    ],
    "vocabulary": []
  },
  {
    "id": 29,
    "audioUrl": "Test 02_Part 2_29.mp3",
    "listening": [
      { "q": "29. If the conference room's taken, {where} can {we hold a meeting}?", "t": "N·∫øu nh∆∞ ph√≤ng h·ªçp n√†y ƒë∆∞·ª£c ƒë·∫∑t r·ªìi th√¨ ch√∫ng ta t·ªï ch·ª©c cu·ªôc h·ªçp ·ªü ƒë√¢u?" },
      { "q": "(A) Half an hour ago.", "t": "N·ª≠a ti·∫øng tr∆∞·ªõc." },
      { "q": "(B) {My new office} is {pretty big}.", "t": "VƒÉn ph√≤ng m·ªõi c·ªßa t√¥i th√¨ kh√° to." },
      { "q": "(C) The {rescheduled directors' meeting}.", "t": "M·ªôt cu·ªôc h·ªçp c·ªßa gi√°m ƒë·ªëc ƒë√£ ƒë∆∞·ª£c l√™n l·ªãch l·∫°i." }
    ],
    "vocabulary": [
      { "w": "Taken", "ty": "-", "meanings": [{ "m": "ƒë√£ ƒë·∫∑t", "s": "is booked" }] },
      { "w": "Pretty", "ty": "adv", "meanings": [{ "m": "kh√°/ t∆∞∆°ng ƒë·ªëi", "s": "fairly/ quite/ rather/ relatively/ comparatively" }] }
    ]
  },
  {
    "id": 30,
    "audioUrl": "Test 02_Part 2_30.mp3",
    "listening": [
      { "q": "30. {I'm not sure we're ready} to {play this song at the concert}.", "t": "T√¥i kh√¥ng ch·∫Øc ch√∫ng ta s·∫µn s√†ng ch∆°i b√†i h√°t n√†y t·∫°i nh·∫°c h·ªôi?" },
      { "q": "(A) Let's {rehearse it some more}.", "t": "H√£y di·ªÖn t·∫≠p n√≥ th√™m m·ªôt ch√∫t n·ªØa." },
      { "q": "(B) No, the {venue's on the right}.", "t": "Kh√¥ng, ƒë·ªãa ƒëi·ªÉm n·∫±m b√™n tay ph·∫£i." },
      { "q": "(C) The lead guitarist.", "t": "Ng∆∞·ªùi ch∆°i ghi-ta ch√≠nh." }
    ],
    "vocabulary": [
      { "w": "Rehearse", "ty": "v", "meanings": [{ "m": "di·ªÖn t·∫≠p" }] },
      { "w": "Venue", "ty": "n", "meanings": [{ "m": "ƒë·ªãa ƒëi·ªÉm", "s": "location/ site/ spot" }] }
    ]
  },
  {
    "id": 31,
    "audioUrl": "Test 02_Part 2_31.mp3",
    "listening": [
      { "q": "31. {Why don't you load up the packages} so we can {deliver them}?", "t": "T·∫°i sao b·∫°n kh√¥ng ch·∫•t nh·ªØng g√≥i h√†ng l√™n xe ƒë·ªÉ ch√∫ng t√¥i v·∫≠n chuy·ªÉn n√≥?" },
      { "q": "(A) There was {plenty of space before}.", "t": "Tr∆∞·ªõc ƒë√¢y c√≥ nhi·ªÅu kh√¥ng gian." },
      { "q": "(B) Most of us enjoyed it.", "t": "H·∫ßu h·∫øt ch√∫ng t√¥i ƒë·ªÅu th√≠ch n√≥." },
      { "q": "(C) They're already {in the truck}.", "t": "Ch√∫ng th√¨ ƒë√£ ·ªü trong xe t·∫£i." }
    ],
    "vocabulary": [
      { "w": "Load", "ty": "-", "meanings": [{ "m": "ch·∫•t l√™n/ t·∫£i l√™n" }] }
    ]
  }

    ];

    function speak(txt) {
        const u = new SpeechSynthesisUtterance(txt); u.lang = 'en-US'; window.speechSynthesis.speak(u);
    }

    function adjustWidth(el) {
        const length = el.value.length > 0 ? el.value.length : 4;
        el.style.width = (length + 1) + "ch";
    }

    function render() {
    const app = document.getElementById('toeic-app');
    app.innerHTML = ''; 

    data.forEach(item => {
        let h = `<div class="section-header">I. NGHE & ƒêI·ªÄN T·ª™</div><div id="l-${item.id}">`;

        // Tr√¨nh ph√°t nh·∫°c c√≥ thanh ti·∫øn ƒë·ªô
        h += `
            <div class="audio-player">
                <div class="audio-controls">
                    <button class="ctrl-btn" id="play-btn-${item.id}" onclick="togglePlay(${item.id})">‚ñ∂</button>
                    <button class="ctrl-btn" style="background:#6c757d; font-size: 1rem;" 
                        onclick="const a=document.getElementById('audio-${item.id}'); a.currentTime=0; a.play(); document.getElementById('play-btn-${item.id}').innerHTML='‚Ö°';">‚Ü∫</button>
                </div>
                
                <audio id="audio-${item.id}" src="${item.audioUrl}" ontimeupdate="updateTime(${item.id})"></audio>
                
                <div class="progress-container">
                    <input type="range" id="seek-${item.id}" class="seek-slider" value="0" min="0" step="1" 
                        onchange="seekAudio(${item.id}, this.value)">
                    <div class="time-row">
                        <span id="time-${item.id}">0:00 / 0:00</span>
                    </div>
                </div>
                
                <button class="speed-btn" onclick="changeSpeed(${item.id}, this)">1x</button>
            </div>
        `;

        // Render Ph·∫ßn Nghe
        item.listening.forEach(line => {
            const qHtml = line.q.replace(/\{(.*?)\}/g, (m, p) => `
                <div class="input-box">
                    <input type="text" class="fill-in" data-ans="${p}" oninput="adjustWidth(this)">
                    <div class="ans-label">${p}</div>
                </div>`);
            
            h += `<div class="compact-card">
                    <div class="line-content">${qHtml}</div>
                    <div class="line-trans">D·ªãch: ${line.t}</div>
                  </div>`;
        });

        h += `<div class="btn-group">
                <button class="btn btn-ans" onclick="act('l-${item.id}', 'ans', this)">ƒê√°p √Ån</button>
                <button class="btn btn-check" onclick="act('l-${item.id}', 'check')">Ho√†n Th√†nh</button>
                <button class="btn btn-dich" onclick="act('l-${item.id}', 'dich')">D·ªãch</button>
            </div></div>`;

        // Render Ph·∫ßn T·ª´ V·ª±ng (Gi·ªØ nguy√™n c·∫•u tr√∫c n√∫t ri√™ng t·ª´ng th·∫ª)
        h += `<div class="section-header">II. T·ª™ V·ª∞NG</div>`;
        item.vocabulary.forEach((v, vIndex) => {
    const vocabId = `v-${item.id}-${vIndex}`;
    h += `<div class="vocab-item" id="${vocabId}">
            <div class="word-title">
                <span><strong>${v.w}</strong> <span class="word-type">(${v.ty})</span></span>
                <span class="audio-icon" onclick="speak('${v.w}')">üîä</span>
            </div>`;
    
    v.meanings.forEach((entry, mIndex) => {
        h += `<div class="meaning-row">
                <span>Nghƒ©a ${v.meanings.length > 1 ? mIndex + 1 : ''}:</span>
                <div class="input-box">
                    <input type="text" class="fill-in" data-ans="${entry.m}" oninput="adjustWidth(this)">
                    <div class="ans-label">${entry.m}</div>
                </div>`;

        if(entry.s && entry.s.trim() !== "") {
            // T√°ch t·ª´ ƒë·ªìng nghƒ©a b·∫±ng d·∫•u ph·∫©y HO·∫∂C d·∫•u g·∫°ch ch√©o
            const syns = entry.s.split(/[/,]+/).map(s => s.trim()).filter(s => s !== "");
            
            h += `<div class="synonym-line">‚îî‚îÄ ƒê·ªìng nghƒ©a: `;
            
            syns.forEach(syn => {
                h += `
                    <div class="input-box" style="margin-right: 15px; margin-bottom: 5px;">
                        <input type="text" class="fill-in" data-ans="${syn}" oninput="adjustWidth(this)">
                        <div class="ans-label">
                            ${syn} <span class="audio-icon" style="font-size: 0.9rem;" onclick="speak('${syn}')">üîä</span>
                        </div>
                    </div>`;
            });
            h += `</div>`;
        }
        h += `</div>`;
    });
    h += `<div class="small-btn-group">
            <button class="btn btn-ans btn-sm" onclick="act('${vocabId}', 'ans', this)">ƒê√°p √Ån</button>
            <button class="btn btn-check btn-sm" onclick="act('${vocabId}', 'check')">Ho√†n Th√†nh</button>
        </div></div>`;
});
        app.innerHTML += h;
    });
}

    function act(id, type, btn) {
        const el = document.getElementById(id);
        if(type === 'ans') {
            const is = el.classList.toggle('show-ans');
            if(btn) btn.innerText = is ? "·∫®n" : "ƒê√°p √Ån";
        } else if(type === 'dich') {
            el.querySelectorAll('.line-trans').forEach(t => t.style.display = t.style.display === 'block' ? 'none' : 'block');
        } else {
            el.querySelectorAll('.fill-in').forEach(i => {
                const u = i.value.trim().toLowerCase(), c = i.getAttribute('data-ans').toLowerCase();
                i.classList.toggle('correct', u === c && u !== "");
                i.classList.toggle('incorrect', u !== c || u === "");
            });
        }
    }
    // H√†m x·ª≠ l√Ω Ph√°t/D·ª´ng
    function togglePlay(id) {
        const audio = document.getElementById(`audio-${id}`);
        const btn = document.getElementById(`play-btn-${id}`);
        
        if (audio.paused) {
            audio.play();
            btn.innerHTML = "‚Ö°"; // Chuy·ªÉn sang bi·ªÉu t∆∞·ª£ng t·∫°m d·ª´ng
        } else {
            audio.pause();
            btn.innerHTML = "‚ñ∂"; // Chuy·ªÉn sang bi·ªÉu t∆∞·ª£ng ph√°t
        }
    }

    // H√†m thay ƒë·ªïi t·ªëc ƒë·ªô
    function changeSpeed(id, btn) {
        const audio = document.getElementById(`audio-${id}`);
        const speeds = [1, 1.25, 1.5, 0.75];
        let currentSpeed = audio.playbackRate;
        let nextIndex = (speeds.indexOf(currentSpeed) + 1) % speeds.length;
        let newSpeed = speeds[nextIndex];
        
        audio.playbackRate = newSpeed;
        btn.innerText = newSpeed + "x";
    }

    // C·∫≠p nh·∫≠t th·ªùi gian hi·ªÉn th·ªã
  // H√†m c·∫≠p nh·∫≠t th·ªùi gian v√† thanh tr∆∞·ª£t
    function updateTime(id) {
        const audio = document.getElementById(`audio-${id}`);
        const seekSlider = document.getElementById(`seek-${id}`);
        const display = document.getElementById(`time-${id}`);
        
        if (!isNaN(audio.duration)) {
            // C·∫≠p nh·∫≠t gi√° tr·ªã thanh tr∆∞·ª£t
            seekSlider.max = Math.floor(audio.duration);
            seekSlider.value = Math.floor(audio.currentTime);
            
            // C·∫≠p nh·∫≠t hi·ªÉn th·ªã th·ªùi gian
            display.innerText = `${formatTime(Math.floor(audio.currentTime))} / ${formatTime(Math.floor(audio.duration))}`;
        }
        
        if (audio.ended) {
            document.getElementById(`play-btn-${id}`).innerHTML = "‚ñ∂";
        }
    }

    // H√†m tua nh·∫°c khi ng∆∞·ªùi d√πng k√©o thanh tr∆∞·ª£t
    function seekAudio(id, value) {
        const audio = document.getElementById(`audio-${id}`);
        audio.currentTime = value;
    }

    function formatTime(sec) {
        let m = Math.floor(sec / 60);
        let s = sec % 60;
        return `${m}:${s < 10 ? '0' + s : s}`;
    }

    window.onload = render;
</script>
</body>
</html>